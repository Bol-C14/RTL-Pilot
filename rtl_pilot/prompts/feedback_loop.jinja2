Based on the simulation results and analysis, here is the feedback for improving the testbench:

## Simulation Summary
- **Overall Status**: {{ "PASSED" if evaluation.pass else "FAILED" }}
- **Overall Score**: {{ evaluation.overall_score }}/100
- **Errors Found**: {{ evaluation.issues_found | length }}
- **Coverage Score**: {{ evaluation.coverage_analysis.coverage_score }}%

## Issues Identified
{% if evaluation.issues_found %}
{% for issue in evaluation.issues_found %}
- {{ issue }}
{% endfor %}
{% else %}
No critical issues found.
{% endif %}

## Coverage Analysis
- **Line Coverage**: {{ evaluation.coverage_analysis.line_coverage }}%
- **Branch Coverage**: {{ evaluation.coverage_analysis.branch_coverage }}%
- **Toggle Coverage**: {{ evaluation.coverage_analysis.toggle_coverage }}%
- **FSM Coverage**: {{ evaluation.coverage_analysis.fsm_coverage }}%

## Recommendations

### High Priority Improvements
{% for suggestion in feedback.improvement_suggestions %}
{% if feedback.priority == "high" %}
- {{ suggestion }}
{% endif %}
{% endfor %}

### Coverage Improvements
{% for improvement in feedback.coverage_improvements %}
- {{ improvement }}
{% endfor %}

### Additional Test Cases Needed
{% for test_case in feedback.additional_test_cases %}
- {{ test_case }}
{% endfor %}

### Bug Fixes Required
{% for bug_fix in feedback.bug_fixes %}
- {{ bug_fix }}
{% endfor %}

## Next Steps
1. Address high priority issues first
2. Add recommended test cases to improve coverage
3. Fix any identified bugs in the testbench
4. Re-run simulation to validate improvements
5. Continue iterating until verification goals are met

## Detailed Analysis
{% if evaluation.functional_correctness %}
### Functional Correctness
- **Tests Passed**: {{ evaluation.functional_correctness.functional_tests_passed }}
- **Total Tests**: {{ evaluation.functional_correctness.functional_tests_total }}
- **Success Rate**: {{ (evaluation.functional_correctness.functional_tests_passed / evaluation.functional_correctness.functional_tests_total * 100) if evaluation.functional_correctness.functional_tests_total > 0 else 0 }}%

{% if evaluation.functional_correctness.mismatches %}
#### Output Mismatches
{% for mismatch in evaluation.functional_correctness.mismatches %}
- {{ mismatch }}
{% endfor %}
{% endif %}

{% if evaluation.functional_correctness.protocol_violations %}
#### Protocol Violations
{% for violation in evaluation.functional_correctness.protocol_violations %}
- {{ violation }}
{% endfor %}
{% endif %}

{% if evaluation.functional_correctness.timing_violations %}
#### Timing Violations
{% for violation in evaluation.functional_correctness.timing_violations %}
- {{ violation }}
{% endfor %}
{% endif %}
{% endif %}

---
*Generated by RTL-Pilot Feedback Loop Agent*
